

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configure heterogeneous populations &mdash; Generic Model  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within Generic Model  documentation" href="_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/tipuesearch/tipuesearch.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Generic Model  documentation" href="index.html"/>
        <link rel="up" title="Use input data files" href="howto-inputs.html"/>
        <link rel="next" title="Configure heterogeneous disease transmission" href="howto-hint.html"/>
        <link rel="prev" title="Use demographics overlay files" href="howto-demographics-overlay.html"/>

<link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Open+Sans" rel="stylesheet">



  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Generic Model
          

          
            
            <img src="_static/IDM_white.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.13
              </div>
            
          

          <div role="search">
  <form id='rtd-search-form' class='wy-form' action="search-local.html" method="get">
    <input type="text" name="q" id="tipue_search_input" autocomplete="off"
           placeholder="Search docs" required>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Using the model</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-overview.html">EMOD installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro-overview.html">Introduction to the software</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro-modeling.html">Introduction to disease modeling</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="howto-overview.html">How to use the software</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="howto-inputs.html">Use input data files</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="howto-demographics-overlay.html">Use demographics overlay files</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configure heterogeneous populations</a></li>
<li class="toctree-l3"><a class="reference internal" href="howto-hint.html">Configure heterogeneous disease transmission</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="howto-configuration.html">Create a configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto-campaign.html">Create a campaign file</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto-simulations.html">Run simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto-outputs.html">Use output files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="parameter-overview.html">EMOD parameter reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-reference-overview.html">Input and output file structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting EMOD simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Advancing the model</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dev-install-overview.html">EMOD source code installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-architecture-overview.html">EMOD architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-debugging-overview.html">Debugging and testing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Generic Model</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
  <li><a href="../index.html">IDM docs</a> &raquo;</li>
    <li><a href="index.html">Generic</a> &raquo;</li>
      
          <li><a href="howto-overview.html">How to use the software</a> &raquo;</li>
      
          <li><a href="howto-inputs.html">Use input data files</a> &raquo;</li>
      
    <li>Configure heterogeneous populations</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<!-- From _templates/page.html -->

  <div class="section" id="configure-heterogeneous-populations">
<h1>Configure heterogeneous populations<a class="headerlink" href="#configure-heterogeneous-populations" title="Permalink to this headline">¶</a></h1>
<p>Demographics files are used to add heterogeneity to a population. You can define the initial
distribution to use for age, prevalence, risk and more. You can also define values for
accessibility, age, geography, risk, and other properties and assign individuals to groups based on
those property values. This topic describes how to configure the population distribution and define
heterogeneous groups.</p>
<p>After you set up the groups, you may want to add more parameters to the <a class="reference internal" href="glossary.html#term-demographics-file"><span class="xref std std-term">demographics file</span></a> to
configure how individuals transition into and out of groups, how transmission occurs between
different groups, or how to target interventions to specific groups. For more information about the
parameters and structure of demographics files, see <a class="reference internal" href="parameter-demographics.html"><span class="doc">Demographics file structure and parameters</span></a>.</p>
<p>For example, you might want to divide a population up into different groups based on age so you can
target interventions to individuals in a particular age range. Another common use is to configure
treatment coverage to be higher for individuals in areas that are easy to access and lower for
individuals in areas that are difficult to access. For more information on targeting interventions
to particular groups, see <a class="reference internal" href="howto-targeted-interventions.html"><span class="doc">Target interventions to nodes or groups</span></a>. For information on how tp configure
disease transmission among groups created with any of the properties, see <a class="reference internal" href="howto-hint.html"><span class="doc">Configure heterogeneous disease transmission</span></a>.</p>
<p>Nodes are subregions within the geographic area being modeled. Values in the <strong>Defaults</strong> section of
the demographics file will be applied to all nodes, while values in the <strong>Nodes</strong> section will be
applied only to the specified node. Node-level settings take precedence.</p>
<div class="section" id="define-the-initial-population-distribution">
<h2>Define the initial population distribution<a class="headerlink" href="#define-the-initial-population-distribution" title="Permalink to this headline">¶</a></h2>
<p>You can configure attribute distributions in the population using the <strong>IndividualAttributes</strong>
parameter in the demographics file. The initial value for an individual is a randomly selected value
from the distribution. For example, if you use a uniform distribution to initialize age, the initial
ages of individuals in the simulation will be evenly distributed between some minimum and maximum
value.</p>
<ol class="arabic simple">
<li>In the demographics file, add the <strong>IndividualAttributes</strong> parameter and assign it an empty
JSON object. If you want the groups to apply to all nodes, add it in the <strong>Defaults</strong> section;
if you want the groups to be applied to specific nodes, add it to the <strong>Nodes</strong> section.</li>
<li>Within this object, add the parameters for different attributes (age, prevalence, etc.) and assign
values for available distributions (constant, Gaussian, etc.) See <a class="reference internal" href="parameter-demographics.html"><span class="doc">Demographics file structure and parameters</span></a>
for more information about the available parameters.</li>
</ol>
<p>The example below shows how to set up the age distribution for all nodes in a simulation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Defaults&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;IndividualAttributes&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;AgeDistributionFlag&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;AgeDistribution1&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
            <span class="s2">&quot;AgeDistribution2&quot;</span><span class="p">:</span> <span class="mf">0.1</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="create-groups-for-properties-other-than-age">
<h2>Create groups for properties other than age<a class="headerlink" href="#create-groups-for-properties-other-than-age" title="Permalink to this headline">¶</a></h2>
<p>Assigning individuals to different groups based on properties, such as accessibility or risk, uses
the <strong>IndividualProperties</strong> parameter in the demographics file. See <a class="reference internal" href="parameter-demographics.html"><span class="doc">Demographics file structure and parameters</span></a>
for a list of supported properties. The values you assign to properties are use-defined and can
be applied to individuals in all nodes or only in particular nodes in a simulation.</p>
<ol class="arabic">
<li><p class="first">In the demographics file, add the <strong>IndividualProperties</strong> parameter and set it to an empty array.
If you want the groups to apply to all nodes, add it in the <strong>Defaults</strong> section; if you want the
groups to be applied to specific nodes, add it to the <strong>Nodes</strong> section.</p>
</li>
<li><p class="first">In the array, add an empty JSON object. Within it, do the following:</p>
<ol class="arabic">
<li><p class="first">Add the <strong>Property</strong> parameter and set it to one of the supported values.</p>
</li>
<li><p class="first">Add the <strong>Values</strong> parameter and set it to an array of possible values that can
be assigned to individuals. You can define any value here.</p>
</li>
<li><p class="first">Add the <strong>Initial_Distribution</strong> parameter and set it to an array of numbers that add
up to 1. This configures the initial distribution of individuals assigned to each of the groups.</p>
</li>
<li><p class="first">To define how individuals transition into and a out of each group, add the <strong>Transitions</strong>
parameter and set it to it an empty array. Within it, do the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Add an empty JSON object and set parameters that define the group that individuals
transition from, the group they transition to, the event that triggers the transition,
the probability of transition, and more. See doc:<cite>parameter-demographics</cite> for a
list of supported <strong>Transitions</strong> parameters and values.</li>
</ol>
</div></blockquote>
</li>
</ol>
</li>
<li><p class="first">If you want to add another property and associated groups, add a new JSON object in the
<strong>IndividualProperties</strong> array as above.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Multiple properties must be defined in one file. They can be defined in either the base
layer demographics file or an overlay file, but they cannot be split between the files.
The maximum number of property types that can be added is two.</p>
</div>
</li>
</ol>
</div>
<div class="section" id="create-groups-for-age-ranges">
<h2>Create groups for age ranges<a class="headerlink" href="#create-groups-for-age-ranges" title="Permalink to this headline">¶</a></h2>
<p>Creating groups based on age ranges works a little differently than creating groups based on other
properties. <strong>Age_Bin</strong> is tied to the simulated age of an individual rather than being an
independent property. Some of its characteristics, such as initial distribution and transitions, are
dependent on information from the demographics file and EMOD that manages individual aging
during the simulation. Because of this, the parameters and structures in <strong>IndividualProperties</strong>
are slightly different.</p>
<ol class="arabic simple">
<li>In the demographics file, add the <strong>IndividualProperties</strong> parameter and set it to an empty array.
If you want the groups to apply to all nodes, add it in the <strong>Defaults</strong> section; if you want the
groups to be applied to specific nodes, add it to the <strong>Nodes</strong> section.</li>
<li>In the array, add an empty JSON object. Within it, do the following:<ol class="arabic">
<li>Add the <strong>Property</strong> parameter and set it to &#8220;Age_Bin&#8221;.</li>
<li>Add the <strong>Age_Bin_Edges_In_Years</strong> parameter and set it to an array that contains a comma-
delimited list of integers in ascending order that define the boundaries used for each of
the age bins, in years. The first number must always be 0 (zero) to indicate the age at
birth and the last number must be -1 to indicate the maximum age in the simulation.</li>
<li>To define how individuals transition into and a out of each group, add the <strong>Transitions</strong>
parameter and set it to it an empty array. Aging during the simulation will be handled
by EMOD.</li>
</ol>
</li>
</ol>
<p>The example below shows how to set up several groups based on disease risk and physical place, and
how to move individuals among these groups. It also defines three age bins: 0 to 5 years,
older than 5 to 13, and older than 13 to the maximum age.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Defaults&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;IndividualProperties&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;Property&quot;</span><span class="p">:</span> <span class="s2">&quot;Risk&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Low&quot;</span><span class="p">,</span> <span class="s2">&quot;Medium&quot;</span><span class="p">,</span> <span class="s2">&quot;High&quot;</span><span class="p">],</span>
            <span class="s2">&quot;Initial_Distribution&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span>
            <span class="s2">&quot;Transitions&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">&quot;From&quot;</span><span class="p">:</span> <span class="s2">&quot;High&quot;</span><span class="p">,</span>
                <span class="s2">&quot;To&quot;</span><span class="p">:</span> <span class="s2">&quot;Medium&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;At_Age&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Coverage&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;Probability_Per_Timestep&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
                <span class="s2">&quot;Timestep_Restriction&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
                <span class="s2">&quot;Age_In_Years&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                <span class="s2">&quot;Timesteps_Until_Reversion&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span> <span class="p">{</span>
                <span class="s2">&quot;From&quot;</span><span class="p">:</span> <span class="s2">&quot;Medium&quot;</span><span class="p">,</span>
                <span class="s2">&quot;To&quot;</span><span class="p">:</span> <span class="s2">&quot;Low&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;At_Age&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Coverage&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;Probability_Per_Timestep&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
                <span class="s2">&quot;Timestep_Restriction&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
                <span class="s2">&quot;Age_In_Years&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                <span class="s2">&quot;Timesteps_Until_Reversion&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}]</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s2">&quot;Property&quot;</span><span class="p">:</span> <span class="s2">&quot;Place&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Community&quot;</span><span class="p">,</span> <span class="s2">&quot;School&quot;</span><span class="p">,</span> <span class="s2">&quot;Work&quot;</span><span class="p">,</span> <span class="s2">&quot;Vacation&quot;</span><span class="p">],</span>
            <span class="s2">&quot;Initial_Distribution&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span>
            <span class="s2">&quot;Transitions&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">&quot;From&quot;</span><span class="p">:</span> <span class="s2">&quot;School&quot;</span><span class="p">,</span>
                <span class="s2">&quot;To&quot;</span><span class="p">:</span> <span class="s2">&quot;Vacation&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;At_Timestep&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Coverage&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;Timestep_Restriction&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;Start&quot;</span><span class="p">:</span> <span class="mi">20</span>
                <span class="p">},</span>
                <span class="s2">&quot;Age_In_Years_Restriction&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="s2">&quot;Probability_Per_Timestep&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;Timesteps_Until_Reversion&quot;</span><span class="p">:</span> <span class="mi">20</span>
            <span class="p">}]</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s2">&quot;Property&quot;</span><span class="p">:</span> <span class="s2">&quot;Age_Bin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Age_Bin_Edges_In_Years&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="s2">&quot;Transitions&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


<div id="tipue_search_content"></div>

           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="howto-hint.html" class="btn btn-neutral float-right" title="Configure heterogeneous disease transmission" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="howto-demographics-overlay.html" class="btn btn-neutral" title="Use demographics overlay files" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Intellectual Ventures Management, LLC (IVM). All rights reserved.

    </p>
  </div>
<p>EMOD is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">Creative Commons Attribution-Noncommercial-ShareAlike 4.0 License</a>.</p>
<p>Send documentation feedback to <a href="mailto:feedback@idmod.org" target="_top">feedback@idmod.org</a>.</p>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch_content.js"></script>
      <script type="text/javascript" src="_static/tipuesearch/tipuesearch_set.js"></script>
      <script type="text/javascript" src="_static/runsearch.js"></script>
      <script type="text/javascript" src="_static/tablecollapse.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<!-- Google analytics for IDM docs -->
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87656833-3', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>